<div class="container-fluid p-4 fondo-rgba">
  <h1 class="mb-2 text-white">Pide tu taxi</h1>
  <hr class="border border-5 border-info">
  <br>
  <div class="search-form mb-4">
    <div class="container-filters d-flex gap-4">
      <div class="origen">
        <div class="card p-2">
          <div class="card-body">
            <h5 class="card-title text-center">Origen</h5>
            <p class="card-subtitle mb-3 text-muted text-center">Selecciona tu ubicación actual</p>
            <form>
              <div class="mb-3">
                <label for="regionDestino" class="form-label">Región</label>
                <select
                  class="form-select form-select-lg p-2"
                  id="regionDestino"
                  [(ngModel)]="selectedRegion"
                  (change)="onRegionChange(selectedRegion)" name="regionOrigen"
                >
                  <option *ngFor="let region of regions" [value]="region.name">
                    {{ region.name }}
                  </option>
                </select>
              </div>
              <div class="mb-3">
                <label for="provinciaDestino" class="form-label">Provincia</label>
                <select
                  class="form-select form-select-lg p-2"
                  id="provinciaDestino"
                  [(ngModel)]="selectedProvince"
                  (change)="onProvinceChange(selectedProvince)"
                  [disabled]="!provinces.length" name="provinciaOrigen"
                >
                  <option *ngFor="let province of provinces" [value]="province.name">
                    {{ province.name }}
                  </option>
                </select>
              </div>
              <div class="mb-3">
                <label for="distritoDestino" class="form-label">Distrito</label>
                <select
                  class="form-select form-select-lg p-2"
                  id="distritoDestino"
                  [disabled]="!districts.length" name="distritoOrigen"
                >
                  <option *ngFor="let district of districts" [value]="district">
                    {{ district }}
                  </option>
                </select>
              </div>
              <div class="mb-3">
                <label for="direccionDestino" class="form-label">Dirección</label>
                <input type="text" class="form-control form-control-lg p-2" id="direccionDestino" placeholder="Ingresa tu destino" name="direccionOrigen">
              </div>
            </form>
          </div>
        </div>
      </div>
      <div class="car-icon d-flex flex-column justify-content-center align-items-center">
        <figure class="container-fluid  w-100 h-100 d-flex justify-content-center align-items-center">
          <img class="img-car" src="/gif/car-run.gif" alt="Car-run gif">
        </figure>
        <button class="btn btn-primary mt-4 p-2 w-100" (click)="onSearch()">Buscar</button>

      </div>
      <div class="destino">
        <div class="card p-2">
          <div class="card-body">
            <h5 class="card-title text-center">Destino</h5>
            <p class="card-subtitle mb-3 text-muted text-center">Selecciona tu destino</p>
              <div class="mb-3">
                <label for="regionDestino" class="form-label">Región</label>
                <select
                  class="form-select form-select-lg p-2"
                  id="regionDestino"
                  [(ngModel)]="selectedRegion2"
                  (change)="onRegionChange2(selectedRegion2)" name="regionDestino"
                >
                  <option *ngFor="let region2 of regions" [value]="region2.name">
                    {{ region2.name }}
                  </option>
                </select>
              </div>
              <div class="mb-3">
                <label for="provinciaDestino" class="form-label">Provincia</label>
                <select
                  class="form-select form-select-lg p-2"
                  id="provinciaDestino"
                  [(ngModel)]="selectedProvince2"
                  (change)="onProvinceChange2(selectedProvince2)"
                  [disabled]="!provinces2.length" name="provinciaDestino"
                >
                  <option *ngFor="let province2 of provinces2" [value]="province2.name">
                    {{ province2.name }}
                  </option>
                </select>
              </div>
              <div class="mb-3">
                <label for="distritoDestino" class="form-label">Distrito</label>
                <select
                  class="form-select form-select-lg p-2"
                  id="distritoDestino"
                  [disabled]="!districts2.length" name="distritoDestino"
                >
                  <option *ngFor="let district of districts2" [value]="district">
                    {{ district }}
                  </option>
                </select>
              </div>
              <div class="mb-3">
                <label for="direccionDestino" class="form-label">Dirección</label>
                <input type="text" class="form-control form-control-lg p-2" id="direccionDestino" placeholder="Ingresa tu destino" name="direccionDestino">
              </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <hr class="border border-5 border-info">
  <div *ngIf="FilterAll" class="container-fluid mt-5">
    <h1 class="text-center mb-4 text-white">Choferes de Taxi</h1>

    <!-- Primera fila -->
    <div class="row mb-4">
      <div class="col-md-3 mb-3 p-4" *ngFor="let driver of drivers">
        <div class="card h-100">
          <img [src]="driver.image" class="card-img-top" [alt]="'Taxi de ' + driver.name">
          <div class="card-body d-flex flex-column justify-content-center p-2">
            <h5 class="card-title text-primary" contenteditable="true">{{ driver.name }}</h5>
            <h6 class="card-subtitle mb-2 text-muted">Propietario: {{ driver.owner }}</h6>
            <p class="card-text">
              <strong>Origen:</strong> {{ driver.origin }}<br>
              <strong>Destino:</strong> {{ driver.destination }}
            </p>
          </div>
          <div class="d-flex justify-content-center p-2">
            <!-- Se pasan los parámetros a la URL cuando se hace click en el botón -->
            <button class="btn btn-primary p-2 w-100" [routerLink]="driver.profileLink" [queryParams]="{ name: driver.name, owner: driver.owner, origin: driver.origin, destination: driver.destination, image: driver.image }">
              Ver Perfil
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>




</div>
